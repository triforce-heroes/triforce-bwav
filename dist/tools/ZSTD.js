import{spawnSync as o}from"node:child_process";import{existsSync as s}from"node:fs";import{basename as t,dirname as r}from"node:path";import{root as e}from"../utils/path.js";import{createTemporaryFile as m}from"../utils/temp.js";let p=e("tools/zstd.exe"),i=e("tools/zs.zsdic");export function ZSTDCompress(s,t="byml.zs"){let r=m(t);return o(p,["--compress",s,"-D",i,"-o",r]),r}export function ZSTDDecompress(e){let m=`${r(e)}/${t(e,".zs")}`;return s(m)||o(p,["--decompress",e,"-D",i,"-o",m]),m}